<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Calendar - {{ month_name }} {{ year }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div class="layout">

        <!-- SIDEBAR -->
        <aside class="sidebar">
            <h2 class="logo">MoodTracker</h2>

            <nav>
                <a href="/dashboard">Dashboard</a>
                <a href="/log_emotion">Log Emotion</a>
                <a href="/mood_calendar">Mood Calendar</a>
                <a href="/mood_statistics">Mood Statistics</a>
                <a href="/ai_feedback">AI Feedback</a>
                <a href="/emotionhistory">Emotion History</a>
                <a href="/logout">Logout</a>
            </nav>
        </aside>

        <div class="main-section">

            <header class="topbar">
                <h1>Mood calendar</h1>
            </header>
            <h2>Mood Calendar for {{ month_name }} {{ year }}</h2>
            <p>Styling and interactive features (like clicking) are disabled to remove syntax errors.</p>
            <table class="mood-calendar-table">
                <thead class="calendar-header">
                    <tr>
                        <th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th><th>Sun</th>
                    </tr>
                </thead>
                <tbody class="calendar-body">
                    {% for week in calendar %}
                    <tr class="week-row">
                        {% for day in week %}
                            {% if day != 0 %}
                                {% set log = mood_data.get(day) %}
                                
                                <td class="{{ 'logged-day' if log else '' }}" 
                                    title="Mood: {{ log.emotion if log else 'None' }}. Note: {{ log.note if log else 'N/A' }}"
                                    
                                    >
                                    
                                    <div>{{ day }}</div>
                                    <div class="day-emoji">{{ log.emoji if log }}</div>
                                </td>
                            {% else %}
                                <td class="empty-day"></td>
                            {% endif %}
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <div class="mood-sum">
            <h2>ðŸ“Š Mood Summary</h2>
            <p><strong>Total Days Logged:</strong> {{ mood_summary.total_entries }}</p>
            <p><strong>Most Frequent Mood:</strong> {{ mood_summary.most_frequent }}</p>
            </div>

        </div>
    </div>



    </div>
    
</body>
</html>