<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        const currentTheme = "{{ session.get('theme', 'light') }}";
        document.documentElement.setAttribute('data-theme', currentTheme);
    </script>
    <script src="{{ url_for('static', filename='theme.js') }}"></script>
    <meta charset="UTF-8">
    <title>Reset Password</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<script>
function togglePassword(id) {
  const input = document.getElementById(id);
  input.type = input.type === "password" ? "text" : "password";
}
</script>

<body class="auth-body">

    <div class="auth-card">
        <h2>Reset Your Password</h2>

        <form method="POST">
            <label>New Password</label>
                <div class="password-wrapper">
                    <input type="password" id="new_password" name="new_password" placeholder="Enter new password" required>
                    <span class="toggle-eye" onclick="togglePassword('new_password')">ğŸ‘</span>
                </div>

            <label>Confirm New Password</label>
                <div class="password-wrapper">
                    <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm new password" required>
                    <span class="toggle-eye" onclick="togglePassword('confirm_password')">ğŸ‘</span>
                </div>

            <button class="main-btn" type="submit">Update Password</button>

            {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="popup-msg">
                {{ messages[0] }}
                </div>
            {% endif %}
            {% endwith %}

            
        </form>

        <p class="Nav-to-welcome">
            <a href="/login">â† Back to login</a>
        </p>
        
    </div>

</body>
</html>
